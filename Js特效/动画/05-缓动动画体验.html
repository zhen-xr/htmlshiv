<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			div {
				width: 100px;
				height: 100px;
				background-color: pink;
				position: absolute;
				margin: 10px 0;
			}
		</style>
	</head>
	<body>
		<button type="button">运动到200</button>
		<button type="button">运动到400</button>
		<div></div>

		<script>
			var btnArr = document.getElementsByTagName("button");
			var div = document.getElementsByTagName("div")[0];

			// var timer = null;

			// btnArr[0].onclick = function() {
			// 	clearInterval(timer);
			// 	timer = setInterval(function() {
			// 		var target = 200;
			// 		var step = (target - div.offsetLeft) / 10;
			// 		step = step>0?Math.ceil(step):Math.floor(step);
			// 		div.style.left = div.offsetLeft + step + "px";
			// 		// div.style.left = div.offsetLeft + (400 - div.offsetLeft) / 10 + "px";
			// 	}, 10);
			// }

			// btnArr[1].onclick = function() {
			// 	clearInterval(timer);
			// 	timer = setInterval(function() {
			// 		var target = 400;
			// 		var step = (target - div.offsetLeft) / 10;
			// 		step = step>0?Math.ceil(step):Math.floor(step);
			// 		div.style.left = div.offsetLeft + step + "px";
			// 		// div.style.left = div.offsetLeft + (400 - div.offsetLeft) / 10 + "px";
			// 	}, 10);
			// }

			btnArr[0].onclick = function() {
				animate(div, 200);
			}

			btnArr[1].onclick = function() {
				animate(div, 400);
			}

			function animate(ele, target) {
				clearInterval(ele.timer);
				ele.timer = setInterval(function() {
					var step = (target - ele.offsetLeft) / 10;
					step = step > 0 ? Math.ceil(step) : Math.floor(step);
					ele.style.left = ele.offsetLeft + step + "px";
					if(Math.abs(target -ele.offsetLeft)<Math.abs(step)){
						ele.style.left = target + "px";
						clearInterval(ele.timer);
					}
				}, 10);
			}
		</script>
	</body>
</html>
