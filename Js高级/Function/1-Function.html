<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script>
	var obj = new Function(
		"console.log('如果你迷恋岁月舍不得向前');" +
		"console.log('我就默默记录这诗篇');" +
		"console.log('如果你厌倦引力想要去飞行');" +
		"console.log('我就让全世界的风吹向你');"
	);
	obj();

	// 计算两数求和
	var sum = new Function("a", "b", "return a+b;");
	console.log(sum(1, 8));

	// 求三个数中最大值
	var max = new Function("a", "b", "c", "return (a>b?a:b)>c?(a>b?a:b):c;")
	console.log(max(8, 2, 5));

	// 求数组中最大值
	var max = new Function("arr",
		"var maxNum = arr[0];" +
		"for(var i=0;i<arr.length;i++){" +
		"if(maxNum<arr[i]){" +
		"maxNum=arr[i]" +
		"}" +
		"}" +
		"return maxNum;"
	);
	console.log(max([0, 4, 0, 8, 2, 5]));

	// 使用模板的方式获取数组最大值
	window.onload = function() {
		var maxArr = document.querySelector("#maxArr");
		var str = maxArr.innerHTML;
		var max = new Function("arr", str);
		console.log(max([0, 4, 0, 8, 2, 5]));
	}
</script>
<script type="text/template" id="maxArr">
	var maxNum = arr[0];
	for (var i = 0; i < arr.length; i++) {
		if (maxNum < arr[i]) {
			maxNum = arr[i];
		}
	}
	return maxNum;
</script>
